apply plugin: 'eclipse'

configurations { lessClasspath }

dependencies {
	lessClasspath group: 'org.lesscss', name: 'lesscss-ant', version: '1.0.0-SNAPSHOT'
}

repositories {
	mavenLocal()
	mavenCentral()
}

task lesscss {
	srcFile = file("${projectDir}/less/cfl4tb.less")
	destFile = new File("${projectDir}/src/assets/css/cfl4tb.css")
	inputs.file srcFile
	outputs.file destFile
	doLast {
		ant.taskdef(name: 'compileLess', classname: 'org.lesscss.LessCompilerTask', classpath: configurations.lessClasspath.asPath)
		ant.compileLess(input:  srcFile, output: destFile, compress: 'true') {
		}
	}
}